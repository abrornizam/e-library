<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Perpus - List Buku</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" media="all" href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" />
    <link rel="stylesheet" type="text/css" media="all" href="../static/css/main.css" th:href="@{/css/main.css}" />
    <script type="text/javascript">
        function doDetail(kdbuku){
        	window.location.href = '/perpus/buku/detail/'+kdbuku; 
        }
        
        function doEdit(kdbuku){
        	window.location.href = '/perpus/buku/edit/'+kdbuku; 
        }
                   
		function doDelete(kdbuku){
			var hapusData = confirm("Do you want to delete this record ?");
			if(hapusData == true){
				window.location.href = '/perpus/buku/delete/'+kdbuku;
			}else{
				window.location.href = '#';
			}
		}
		
		function doBorrow(kdbuku){
        	window.location.href = '/perpus/peminjaman/pinjamBuku/'+kdbuku; 
        }
	</script>
</head>
<body>
    <div class="container">
        <h1>List Buku</h1>
        <p>
            <a href="/perpus/buku/listBuku" th:href="@{/perpus/buku/listBuku}">Menu Utama</a> |
            <a href="/perpus/buku/addBuku" th:href="@{/perpus/buku/addBuku}">Add Buku</a> |
            <a href="/perpus/anggota/listAnggota" th:href="@{/perpus/anggota/listAnggota}">Anggota</a> |
            <a href="/perpus/peminjaman/listPeminjaman" th:href="@{/perpus/peminjaman/listPeminjaman}">Peminjaman</a>
        </p>
        <table class="table">
            <thead>
                <tr>
                    <th>Kode Buku</th>
                    <th>Judul</th>
                    <th>Pengarang</th>
                    <th>Tahun Terbit</th>
                    <th>Jumlah</th>                    
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="buku : ${buku}">
                    <td th:text="${buku.kdbuku}">${buku.kdbuku}</td>
                    <td th:text="${buku.judul}">${buku.judul}</td>
                    <td th:text="${buku.pengarang.nama_pengarang}">${buku.pengarang.nama_pengarang}</td>
                    <td th:text="${buku.tahun}">${buku.tahun}</td>
                    <td th:text="${buku.jumlah}">${buku.jumlah}</td>                    
                    <td>
                    	<input type="button" value="Detail" class="btn btn-secondary" th:onclick="|doDetail('${buku.kdbuku}');|"/>
                        <input type="button" value="Edit" class="btn btn-primary" th:onclick="|doEdit('${buku.kdbuku}');|"/>                        
                        <input type="button" value="Delete" class="btn btn-danger" th:onclick="|doDelete('${buku.kdbuku}');|"/>
                        <input type="button" value="Borrow" class="btn btn-success" th:onclick="|doBorrow('${buku.kdbuku}');|"/>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
